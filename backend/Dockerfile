# Multi-stage Dockerfile to install, run predeploy, and start the Medusa server
#FROM node:20-slim
#WORKDIR /.medusa/server

# Install dependencies (use package-lock if present)
# COPY .medusa/server/package*.json ./
#RUN npm install

# Copy source, run predeploy (build step)
#COPY ./.medusa/server ./
#RUN npm run predeploy


#ENV NODE_ENV=production
#ENV PORT=9000
# RUN npm prune --production || true

#EXPOSE 9000
# USER node

#CMD ["npm", "run", "start"]